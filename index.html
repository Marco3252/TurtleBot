<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Blockly Pico</title>
<script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script src="https://unpkg.com/blockly/python_compressed"></script>
  <script src="https://unpkg.com/blockly/blocks_compressed"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-python.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-eclipse.js"></script>
  <script src="https://unpkg.com/blockly/msg/es.js"></script>

<style>
  body {
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }

  #titleBar {
    background: #2ecc71;
    padding: 10px 15px;
    font-size: 22px;
    color: white;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  #leftControls, #rightControls {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  #connectBtn {
    padding: 6px 14px;
    background: #ffffff33;
    border: 2px solid white;
    color: white;
    font-size: 16px;
    cursor: pointer;
    border-radius: 6px;
  }

  /* Área Blockly */
  #blocklyArea {
    flex: 1;
    overflow: hidden;
  }

  /* Botón ejecutar */
  #runBtn {
    width: 100%;
    padding: 15px;
    font-size: 20px;
    background: #6ecfda;
    color: white;
    border: none;
    /*position:fixed;
    bottom: 0;*/
  }

  /* Pantalla que bloquea toda la página */
#overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6); /* oscurece todo */
  display: flex;
  color: white;
  justify-content: center;
  align-items: center;
  z-index: 9999; /* encima de todo */
}

/* Animación circular */
.loader {
  border: 6px solid #ffffff33;
  border-top: 6px solid #3498db;
  border-radius: 50%;
  width: 45px;
  height: 45px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<div id="log" style="display:none; color:white; padding:10px; font-family:monospace;"></div>
<body>



<!-- BARRA SUPERIOR -->
<div id="titleBar">
  <div id="leftControls">
    <span>TurtleBot</span>
  </div>

  <div id="rightControls">
    <button id="connectBtn">Conectar</button>
  </div>
</div>
<!-- Ejecutar -->
<button id="runBtn">▶ Ejecutar</button>
<div id="overlay">Ejecutando...</div>

<div id="blocklyArea"></div>

<script src="f.js"></script>
<div id="overlay" style="display:none;">
  <div class="loader"></div>
</div>
</body>
</html>



